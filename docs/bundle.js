!function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){e.exports=n(1)},function(e,t,n){"use strict";function o(){}n.r(t);function i(e,t,n,o,i){e.__svelte_meta={loc:{file:t,line:n,column:o,char:i}}}function c(e){return e()}function r(){return Object.create(null)}function s(e){e.forEach(c)}function a(e){return"function"==typeof e}function l(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function u(e){return 0===Object.keys(e).length}function d(e,t){if(null!=e&&"function"!=typeof e.subscribe)throw new Error(`'${t}' is not a store with a 'subscribe' method`)}function f(e,...t){if(null==e)return o;const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function p(e,t,n){e.$$.on_destroy.push(f(t,n))}new Set;let m=!1;function h(e,t,n,o){for(;e<t;){const i=e+(t-e>>1);n(i)<=o?e=i+1:t=i}return e}function g(e,t){m?(!function(e){if(e.hydrate_init)return;e.hydrate_init=!0;const t=e.childNodes,n=new Int32Array(t.length+1),o=new Int32Array(t.length);n[0]=-1;let i=0;for(let e=0;e<t.length;e++){const c=h(1,i+1,e=>t[n[e]].claim_order,t[e].claim_order)-1;o[e]=n[c]+1;const r=c+1;n[r]=e,i=Math.max(r,i)}const c=[],r=[];let s=t.length-1;for(let e=n[i]+1;0!=e;e=o[e-1]){for(c.push(t[e-1]);s>=e;s--)r.push(t[s]);s--}for(;s>=0;s--)r.push(t[s]);c.reverse(),r.sort((e,t)=>e.claim_order-t.claim_order);for(let t=0,n=0;t<r.length;t++){for(;n<c.length&&r[t].claim_order>=c[n].claim_order;)n++;const o=n<c.length?c[n]:null;e.insertBefore(r[t],o)}}(e),(void 0===e.actual_end_child||null!==e.actual_end_child&&e.actual_end_child.parentElement!==e)&&(e.actual_end_child=e.firstChild),t!==e.actual_end_child?e.insertBefore(t,e.actual_end_child):e.actual_end_child=t.nextSibling):t.parentNode!==e&&e.appendChild(t)}function v(e,t,n){m&&!n?g(e,t):(t.parentNode!==e||n&&t.nextSibling!==n)&&e.insertBefore(t,n||null)}function $(e){e.parentNode.removeChild(e)}function w(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function y(e){return document.createElement(e)}function b(e){return document.createTextNode(e)}function k(){return b(" ")}function S(){return b("")}function x(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function C(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function R(e,t){e.value=null==t?"":t}function D(e,t,n){e.classList[n?"add":"remove"](t)}function E(e,t){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}new Set;let j;function O(e){j=e}function _(){if(!j)throw new Error("Function called outside component initialization");return j}function A(e){_().$$.on_mount.push(e)}function B(){const e=_();return(t,n)=>{const o=e.$$.callbacks[t];if(o){const i=E(t,n);o.slice().forEach(t=>{t.call(e,i)})}}}const U=[],T=[],P=[],M=[],N=Promise.resolve();let L=!1;function V(){L||(L=!0,N.then(z))}function I(){return V(),N}function q(e){P.push(e)}let F=!1;const J=new Set;function z(){if(!F){F=!0;do{for(let e=0;e<U.length;e+=1){const t=U[e];O(t),W(t.$$)}for(O(null),U.length=0;T.length;)T.pop()();for(let e=0;e<P.length;e+=1){const t=P[e];J.has(t)||(J.add(t),t())}P.length=0}while(U.length);for(;M.length;)M.pop()();L=!1,F=!1,J.clear()}}function W(e){if(null!==e.fragment){e.update(),s(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(q)}}const H=new Set;let X;function Y(){X={r:0,c:[],p:X}}function G(){X.r||s(X.c),X=X.p}function K(e,t){e&&e.i&&(H.delete(e),e.i(t))}function Q(e,t,n,o){if(e&&e.o){if(H.has(e))return;H.add(e),X.c.push(()=>{H.delete(e),o&&(n&&e.d(1),o())}),e.o(t)}}const Z="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;new Set(["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"]);let ee;function te(e){e&&e.c()}function ne(e,t,n,o){const{fragment:i,on_mount:r,on_destroy:l,after_update:u}=e.$$;i&&i.m(t,n),o||q(()=>{const t=r.map(c).filter(a);l?l.push(...t):s(t),e.$$.on_mount=[]}),u.forEach(q)}function oe(e,t){const n=e.$$;null!==n.fragment&&(s(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function ie(e,t,n,i,c,a,l=[-1]){const u=j;O(e);const d=e.$$={fragment:null,ctx:null,props:a,update:o,not_equal:c,bound:r(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:t.context||[]),callbacks:r(),dirty:l,skip_bound:!1};let f=!1;if(d.ctx=n?n(e,t.props||{},(t,n,...o)=>{const i=o.length?o[0]:n;return d.ctx&&c(d.ctx[t],d.ctx[t]=i)&&(!d.skip_bound&&d.bound[t]&&d.bound[t](i),f&&function(e,t){-1===e.$$.dirty[0]&&(U.push(e),V(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}(e,t)),n}):[],d.update(),f=!0,s(d.before_update),d.fragment=!!i&&i(d.ctx),t.target){if(t.hydrate){m=!0;const e=(p=t.target,Array.from(p.childNodes));d.fragment&&d.fragment.l(e),e.forEach($)}else d.fragment&&d.fragment.c();t.intro&&K(e.$$.fragment),ne(e,t.target,t.anchor,t.customElement),m=!1,z()}var p;O(u)}"function"==typeof HTMLElement&&(ee=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){const{on_mount:e}=this.$$;this.$$.on_disconnect=e.map(c).filter(a);for(const e in this.$$.slotted)this.appendChild(this.$$.slotted[e])}attributeChangedCallback(e,t,n){this[e]=n}disconnectedCallback(){s(this.$$.on_disconnect)}$destroy(){oe(this,1),this.$destroy=o}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){this.$$set&&!u(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}});function ce(e,t){document.dispatchEvent(E(e,Object.assign({version:"3.38.3"},t)))}function re(e,t){ce("SvelteDOMInsert",{target:e,node:t}),g(e,t)}function se(e,t,n){ce("SvelteDOMInsert",{target:e,node:t,anchor:n}),v(e,t,n)}function ae(e){ce("SvelteDOMRemove",{node:e}),$(e)}function le(e,t,n,o,i,c){const r=!0===o?["capture"]:o?Array.from(Object.keys(o)):[];i&&r.push("preventDefault"),c&&r.push("stopPropagation"),ce("SvelteDOMAddEventListener",{node:e,event:t,handler:n,modifiers:r});const s=x(e,t,n,o);return()=>{ce("SvelteDOMRemoveEventListener",{node:e,event:t,handler:n,modifiers:r}),s()}}function ue(e,t,n){C(e,t,n),null==n?ce("SvelteDOMRemoveAttribute",{node:e,attribute:t}):ce("SvelteDOMSetAttribute",{node:e,attribute:t,value:n})}function de(e,t,n){e[t]=n,ce("SvelteDOMSetProperty",{node:e,property:t,value:n})}function fe(e,t){t=""+t,e.wholeText!==t&&(ce("SvelteDOMSetData",{node:e,data:t}),e.data=t)}function pe(e){if(!("string"==typeof e||e&&"object"==typeof e&&"length"in e)){let t="{#each} only iterates over array-like objects.";throw"function"==typeof Symbol&&e&&Symbol.iterator in e&&(t+=" You can use a spread to convert this iterable into an array."),new Error(t)}}function me(e,t,n){for(const o of Object.keys(t))~n.indexOf(o)||console.warn(`<${e}> received an unexpected slot "${o}".`)}class he extends class{$destroy(){oe(this,1),this.$destroy=o}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){this.$$set&&!u(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}{constructor(e){if(!e||!e.target&&!e.$$inline)throw new Error("'target' is a required option");super()}$destroy(){super.$destroy(),this.$destroy=()=>{console.warn("Component was already destroyed")}}$capture_state(){}$inject_state(){}}const ge=[];function ve(e,t=o){let n;const i=[];function c(t){if(l(e,t)&&(e=t,n)){const t=!ge.length;for(let t=0;t<i.length;t+=1){const n=i[t];n[1](),ge.push(n,e)}if(t){for(let e=0;e<ge.length;e+=2)ge[e][0](ge[e+1]);ge.length=0}}}return{set:c,update:function(t){c(t(e))},subscribe:function(r,s=o){const a=[r,s];return i.push(a),1===i.length&&(n=t(c)||o),r(e),()=>{const e=i.indexOf(a);-1!==e&&i.splice(e,1),0===i.length&&(n(),n=null)}}}}function $e(e,t,n){const i=!Array.isArray(e),c=i?[e]:e,r=t.length<2;return{subscribe:ve(n,e=>{let n=!1;const l=[];let u=0,d=o;const p=()=>{if(u)return;d();const n=t(i?l[0]:l,e);r?e(n):d=a(n)?n:o},m=c.map((e,t)=>f(e,e=>{l[t]=e,u&=~(1<<t),n&&p()},()=>{u|=1<<t}));return n=!0,p(),function(){s(m),d()}}).subscribe}}const we=ve([]),ye=e=>{try{return!0===JSON.parse(e)}catch{return!1}},be=ve((()=>{const e=Object.fromEntries(new URLSearchParams(location.search).entries()),t={role:e.role||"both",stream:e.stream||"both",audioVisOnly:ye(e.audioVisOnly),manual:ye(e.manual),remote:ye(e.remote),hideSignaling:ye(e.hideSignaling)};return Object.entries(t).map(([e,t])=>({key:e,value:t}))})()),ke=$e(be,e=>`${window.location.protocol}//${window.location.host}/?${(e=>{const t=new URLSearchParams;for(let[n,o]of e)t.set(n,o);return t.toString()})(e.map(({key:e,value:t})=>[e,t]))}`),Se=$e(be,e=>{const t=Object.fromEntries(e.map(({key:e,value:t})=>[e,t]));let{role:n,stream:o,manual:i,remote:c,hideSignaling:r}=t;const s="recv"!==n,a="call"!==n&&"send"!==n||!1,l="down"!==o||!1,u="up"!==o||!1,d=i&&"no"!==i||!1,f=c&&"no"!==c||!1,p=s?"bob":"alice",m=a?"bob":"alice";return{...t,role:n,stream:o,manual:i,remote:c,hasCaller:s,hasReceiver:a,hasUpstream:l,hasDownstream:u,isManual:d,isRemote:f,hideSignaling:r,to:p,from:m}}),xe=ve({});const Ce=e=>(t,n)=>function(e,t,n){const o={name:e,short:t,event:n};we.update(e=>[...e,o]),xe.update(n=>({...n,[e]:[...n[e]||[],t]}))}(e,t,n),Re="src/Config.svelte";function De(e,t,n){const o=e.slice();return o[6]=t[n].key,o[7]=t[n].value,o[8]=t,o[9]=n,o}function Ee(e){let t,n,o;function c(){e[3].call(t,e[8],e[9])}const r={c:function(){t=y("input"),ue(t,"type","text"),i(t,Re,33,12,774)},m:function(i,r){se(i,t,r),R(t,e[7]),n||(o=le(t,"input",c),n=!0)},p:function(n,o){e=n,2&o&&t.value!==e[7]&&R(t,e[7])},d:function(e){e&&ae(t),n=!1,o()}};return ce("SvelteRegisterBlock",{block:r,id:Ee.name,type:"else",source:"(33:12) {:else}",ctx:e}),r}function je(e){let t,n,o;function c(){e[2].call(t,e[8],e[9])}const r={c:function(){t=y("input"),ue(t,"type","checkbox"),i(t,Re,31,12,696)},m:function(i,r){se(i,t,r),t.checked=e[7],n||(o=le(t,"change",c),n=!0)},p:function(n,o){e=n,2&o&&(t.checked=e[7])},d:function(e){e&&ae(t),n=!1,o()}};return ce("SvelteRegisterBlock",{block:r,id:je.name,type:"if",source:"(31:12) {#if typeof value === 'boolean'}",ctx:e}),r}function Oe(e){let t,n,o,c,r,s,a=e[6]+"";function l(e,t){return"boolean"==typeof e[7]?je:Ee}let u=l(e),d=u(e);const f={c:function(){t=y("tr"),n=y("td"),o=b(a),c=k(),r=y("td"),d.c(),s=k(),i(n,Re,28,12,607),i(r,Re,29,12,634),i(t,Re,27,8,590)},m:function(e,i){se(e,t,i),re(t,n),re(n,o),re(t,c),re(t,r),d.m(r,null),re(t,s)},p:function(e,t){2&t&&a!==(a=e[6]+"")&&fe(o,a),u===(u=l(e))&&d?d.p(e,t):(d.d(1),d=u(e),d&&(d.c(),d.m(r,null)))},d:function(e){e&&ae(t),d.d()}};return ce("SvelteRegisterBlock",{block:f,id:Oe.name,type:"each",source:"(27:4) {#each $query as {key, value}",ctx:e}),f}function _e(e){let t,n,c,r,s,a,l,u,d,f=e[1];pe(f);let p=[];for(let t=0;t<f.length;t+=1)p[t]=Oe(De(e,f,t));const m={c:function(){t=y("details"),n=y("summary"),n.textContent="config",c=k(),r=y("code"),s=y("pre"),a=y("a"),l=b(e[0]),u=k(),d=y("table");for(let e=0;e<p.length;e+=1)p[e].c();i(n,Re,20,4,428),ue(a,"href",e[0]),i(a,Re,22,4,474),i(s,Re,21,10,464),ue(r,"class","svelte-12ii7jf"),i(r,Re,21,4,458),i(d,Re,25,4,536),i(t,Re,19,0,414)},l:function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(e,o){se(e,t,o),re(t,n),re(t,c),re(t,r),re(r,s),re(s,a),re(a,l),re(t,u),re(t,d);for(let e=0;e<p.length;e+=1)p[e].m(d,null)},p:function(e,[t]){if(1&t&&fe(l,e[0]),1&t&&ue(a,"href",e[0]),2&t){let n;for(f=e[1],pe(f),n=0;n<f.length;n+=1){const o=De(e,f,n);p[n]?p[n].p(o,t):(p[n]=Oe(o),p[n].c(),p[n].m(d,null))}for(;n<p.length;n+=1)p[n].d(1);p.length=f.length}},i:o,o:o,d:function(e){e&&ae(t),w(p,e)}};return ce("SvelteRegisterBlock",{block:m,id:_e.name,type:"component",source:"",ctx:e}),m}function Ae(e,t,n){let o,i;d(ke,"configUrl"),p(e,ke,e=>n(0,o=e)),d(be,"query"),p(e,be,e=>n(1,i=e));let{$$slots:c={},$$scope:r}=t;me("Config",c,[]);const s=e=>{try{return"boolean"===JSON.parse(e)}catch{return!1}},a=({target:{value:e,name:t}})=>{Se.update(n=>({...n,[t]:"on"===e}))},l=[];return Object.keys(t).forEach(e=>{~l.indexOf(e)||"$$"===e.slice(0,2)||console.warn(`<Config> was created with unknown prop '${e}'`)}),e.$capture_state=()=>({query:be,config:Se,configUrl:ke,eventLog:we,boolable:s,checkConfig:a,$configUrl:o,$query:i}),[o,i,function(e,t){e[t].value=this.checked,be.set(i)},function(e,t){e[t].value=this.value,be.set(i)}]}var Be=class extends he{constructor(e){super(e),ie(this,e,Ae,_e,l,{}),ce("SvelteRegisterComponent",{component:this,tagName:"Config",options:e,id:_e.name})}};const Ue=ve({}),Te=ve({}),Pe=ve({});function Me({from:e,offer:t}){Ue.update(n=>({...n,[e]:t}))}function Ne({from:e,answer:t}){Te.update(n=>({...n,[e]:t}))}function Le({from:e,candidate:t}){Pe.update(n=>{const o=n[e]||[];return{...n,[e]:[...o,t]}})}function Ve({from:e}){Pe.update(t=>({...t,[e]:[]}))}class Ie{constructor({to:e,from:t}){this.to=e,this.from=t}connect({url:e}){this.url=e;const t=new WebSocket(e);t.onopen=()=>{this.socket=t,this.socket.onmessage=this.received.bind(this)}}received({data:e}){const t=JSON.parse(e),{[this.to]:n,type:o}=t;console.debug("its for me!",n);const i=this.to;switch(o){case"offer":Me({from:i,offer:n});break;case"answer":Ne({from:i,answer:n});break;case"candidate":Le({from:i,candidate:new RTCIceCandidate(n)})}}sendOffer(e){if(e){const t={[this.from]:e,type:"offer"};this.send(t)}}sendAnswer(e){if(e){const t={[this.from]:e,type:"answer"};this.send(t)}}sendCandidate(e){if(e){const t={[this.from]:e,type:"candidate"};this.send(t)}}send(e){if(this.socket){const t=JSON.stringify(e);this.socket.send(t)}}toString(){return`[Signaling Server calling ${this.from} → ${this.to}]`}}const qe=e=>"string"==typeof e?JSON.parse(e).sdp:"object"==typeof e?e.sdp:void 0,Fe=e=>{try{return JSON.parse(e)}catch(t){return""!==e&&console.warn({parseError:t}),[]}},Je=e=>({type:"offer",sdp:e}),ze=e=>({type:"answer",sdp:e});function We(e){let t,n,c,r,s,a,l,u,d=JSON.stringify(e[2],null,4)+"";const f={c:function(){t=y("details"),n=y("summary"),c=b(e[1]),r=k(),s=y("pre"),a=y("code"),l=b(d),i(n,"src/Details.svelte",13,4,200),ue(a,"class","svelte-ubxtzq"),i(a,"src/Details.svelte",15,8,247),i(s,"src/Details.svelte",14,4,233),t.open=u=Boolean(e[2])&&e[0],i(t,"src/Details.svelte",12,0,157)},l:function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(e,o){se(e,t,o),re(t,n),re(n,c),re(t,r),re(t,s),re(s,a),re(a,l)},p:function(e,[n]){2&n&&fe(c,e[1]),4&n&&d!==(d=JSON.stringify(e[2],null,4)+"")&&fe(l,d),5&n&&u!==(u=Boolean(e[2])&&e[0])&&de(t,"open",u)},i:o,o:o,d:function(e){e&&ae(t)}};return ce("SvelteRegisterBlock",{block:f,id:We.name,type:"component",source:"",ctx:e}),f}function He(e,t,n){let{$$slots:o={},$$scope:i}=t;me("Details",o,[]);let{open:c=!0}=t,{summary:r="???"}=t,{data:s}=t;const a=["open","summary","data"];return Object.keys(t).forEach(e=>{~a.indexOf(e)||"$$"===e.slice(0,2)||console.warn(`<Details> was created with unknown prop '${e}'`)}),e.$$set=e=>{"open"in e&&n(0,c=e.open),"summary"in e&&n(1,r=e.summary),"data"in e&&n(2,s=e.data)},e.$capture_state=()=>({open:c,summary:r,data:s}),e.$inject_state=e=>{"open"in e&&n(0,c=e.open),"summary"in e&&n(1,r=e.summary),"data"in e&&n(2,s=e.data)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[c,r,s]}var Xe=class extends he{constructor(e){super(e),ie(this,e,He,We,l,{open:0,summary:1,data:2}),ce("SvelteRegisterComponent",{component:this,tagName:"Details",options:e,id:We.name});const{ctx:t}=this.$$,n=e.props||{};void 0!==t[2]||"data"in n||console.warn("<Details> was created without expected prop 'data'")}get open(){throw new Error("<Details>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set open(e){throw new Error("<Details>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get summary(){throw new Error("<Details>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set summary(e){throw new Error("<Details>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get data(){throw new Error("<Details>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set data(e){throw new Error("<Details>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}};const{Object:Ye}=Z;function Ge(e,t,n){const o=e.slice();return o[23]=t[n],o}function Ke(e,t,n){const o=e.slice();return o[26]=t[n],o[28]=n,o}function Qe(e){let t,n,o,c,r,s=(e[26].label||"camera "+e[28])+"";function a(){return e[14](e[26])}const l={c:function(){t=y("button"),n=b(s),o=k(),ue(t,"class","svelte-2jsuhx"),i(t,"src/UpstreamVideo.svelte",115,4,3396)},m:function(e,i){se(e,t,i),re(t,n),re(t,o),c||(r=le(t,"click",a,!1,!1,!1),c=!0)},p:function(t,o){e=t,4&o&&s!==(s=(e[26].label||"camera "+e[28])+"")&&fe(n,s)},d:function(e){e&&ae(t),c=!1,r()}};return ce("SvelteRegisterBlock",{block:l,id:Qe.name,type:"each",source:"(115:4) {#each videoDevices as device, index}",ctx:e}),l}function Ze(e){let t;const n={c:function(){t=b("✔️")},m:function(e,n){se(e,t,n)},d:function(e){e&&ae(t)}};return ce("SvelteRegisterBlock",{block:n,id:Ze.name,type:"if",source:"(128:8) {#if upstreamStream === stream}",ctx:e}),n}function et(e){let t,n,o,c,r,a,l,u,d,f,p,m,h,g,v,$=e[23].name+"",w=e[0]===e[23]&&Ze(e);function S(){return e[15](e[23])}function x(){return e[16](e[23])}function C(){return e[17](e[23])}const R={c:function(){t=y("tr"),n=y("td"),w&&w.c(),o=k(),c=y("td"),r=y("button"),a=b($),l=k(),u=y("td"),d=y("button"),d.textContent="stop",f=k(),p=y("td"),m=y("button"),m.textContent="X",h=k(),i(n,"src/UpstreamVideo.svelte",127,4,3593),ue(r,"class","svelte-2jsuhx"),i(r,"src/UpstreamVideo.svelte",128,9,3650),i(c,"src/UpstreamVideo.svelte",128,4,3645),ue(d,"class","svelte-2jsuhx"),i(d,"src/UpstreamVideo.svelte",129,9,3736),i(u,"src/UpstreamVideo.svelte",129,4,3731),ue(m,"class","svelte-2jsuhx"),i(m,"src/UpstreamVideo.svelte",130,9,3809),i(p,"src/UpstreamVideo.svelte",130,4,3804),i(t,"src/UpstreamVideo.svelte",126,0,3584)},m:function(e,i){se(e,t,i),re(t,n),w&&w.m(n,null),re(t,o),re(t,c),re(c,r),re(r,a),re(t,l),re(t,u),re(u,d),re(t,f),re(t,p),re(p,m),re(t,h),g||(v=[le(r,"click",S,!1,!1,!1),le(d,"click",x,!1,!1,!1),le(m,"click",C,!1,!1,!1)],g=!0)},p:function(t,o){(e=t)[0]===e[23]?w||(w=Ze(e),w.c(),w.m(n,null)):w&&(w.d(1),w=null),8&o&&$!==($=e[23].name+"")&&fe(a,$)},d:function(e){e&&ae(t),w&&w.d(),g=!1,s(v)}};return ce("SvelteRegisterBlock",{block:R,id:et.name,type:"each",source:"(126:0) {#each videoStreams as stream}",ctx:e}),R}function tt(e){let t,n,o,c,r,s,a,l,u,d,f,p,m,h=e[4].readyState+"";d=new Xe({props:{summary:"settings",data:e[4].getSettings()},$$inline:!0}),p=new Xe({props:{summary:"constraints",data:e[4].getConstraints()},$$inline:!0});const g={c:function(){t=y("details"),n=y("summary"),o=b(e[5]),c=k(),r=y("dl"),s=y("dt"),s.textContent="readState",a=y("dd"),l=b(h),u=k(),te(d.$$.fragment),f=k(),te(p.$$.fragment),i(n,"src/UpstreamVideo.svelte",137,4,3926),i(s,"src/UpstreamVideo.svelte",139,8,3971),i(a,"src/UpstreamVideo.svelte",139,26,3989),i(r,"src/UpstreamVideo.svelte",139,4,3967),i(t,"src/UpstreamVideo.svelte",136,0,3912)},m:function(e,i){se(e,t,i),re(t,n),re(n,o),re(t,c),re(t,r),re(r,s),re(r,a),re(a,l),re(t,u),ne(d,t,null),re(t,f),ne(p,t,null),m=!0},p:function(e,t){(!m||32&t)&&fe(o,e[5]),(!m||16&t)&&h!==(h=e[4].readyState+"")&&fe(l,h);const n={};16&t&&(n.data=e[4].getSettings()),d.$set(n);const i={};16&t&&(i.data=e[4].getConstraints()),p.$set(i)},i:function(e){m||(K(d.$$.fragment,e),K(p.$$.fragment,e),m=!0)},o:function(e){Q(d.$$.fragment,e),Q(p.$$.fragment,e),m=!1},d:function(e){e&&ae(t),oe(d),oe(p)}};return ce("SvelteRegisterBlock",{block:g,id:tt.name,type:"if",source:"(136:0) {#if mainTrack}",ctx:e}),g}function nt(e){let t,n,o,c,r,a,l,u,d,f,p,m,h,g,v,$,b,x,C,R=e[2];pe(R);let D=[];for(let t=0;t<R.length;t+=1)D[t]=Qe(Ke(e,R,t));let E=e[3];pe(E);let j=[];for(let t=0;t<E.length;t+=1)j[t]=et(Ge(e,E,t));let O=e[4]&&tt(e);const _={c:function(){t=y("h5"),t.textContent="upstream",n=k(),o=y("video"),c=y("track"),r=k(),a=y("nav"),l=y("button"),l.textContent="default",u=k(),d=y("button"),d.textContent="noise",f=k(),p=y("br"),m=k();for(let e=0;e<D.length;e+=1)D[e].c();h=k(),g=y("table");for(let e=0;e<j.length;e+=1)j[e].c();v=k(),O&&O.c(),$=S(),i(t,"src/UpstreamVideo.svelte",103,0,3098),ue(c,"kind","captions"),i(c,"src/UpstreamVideo.svelte",106,4,3185),ue(o,"id","upstream"),o.autoplay="true",i(o,"src/UpstreamVideo.svelte",105,0,3117),ue(l,"class","svelte-2jsuhx"),i(l,"src/UpstreamVideo.svelte",111,4,3232),ue(d,"class","svelte-2jsuhx"),i(d,"src/UpstreamVideo.svelte",112,4,3290),i(p,"src/UpstreamVideo.svelte",113,4,3345),ue(a,"class","svelte-2jsuhx"),i(a,"src/UpstreamVideo.svelte",109,0,3221),i(g,"src/UpstreamVideo.svelte",124,0,3545)},l:function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(i,s){se(i,t,s),se(i,n,s),se(i,o,s),re(o,c),e[11](o),se(i,r,s),se(i,a,s),re(a,l),re(a,u),re(a,d),re(a,f),re(a,p),re(a,m);for(let e=0;e<D.length;e+=1)D[e].m(a,null);se(i,h,s),se(i,g,s);for(let e=0;e<j.length;e+=1)j[e].m(g,null);se(i,v,s),O&&O.m(i,s),se(i,$,s),b=!0,x||(C=[le(l,"click",e[12],!1,!1,!1),le(d,"click",e[13],!1,!1,!1)],x=!0)},p:function(e,[t]){if(132&t){let n;for(R=e[2],pe(R),n=0;n<R.length;n+=1){const o=Ke(e,R,n);D[n]?D[n].p(o,t):(D[n]=Qe(o),D[n].c(),D[n].m(a,null))}for(;n<D.length;n+=1)D[n].d(1);D.length=R.length}if(1801&t){let n;for(E=e[3],pe(E),n=0;n<E.length;n+=1){const o=Ge(e,E,n);j[n]?j[n].p(o,t):(j[n]=et(o),j[n].c(),j[n].m(g,null))}for(;n<j.length;n+=1)j[n].d(1);j.length=E.length}e[4]?O?(O.p(e,t),16&t&&K(O,1)):(O=tt(e),O.c(),K(O,1),O.m($.parentNode,$)):O&&(Y(),Q(O,1,1,()=>{O=null}),G())},i:function(e){b||(K(O),b=!0)},o:function(e){Q(O),b=!1},d:function(i){i&&ae(t),i&&ae(n),i&&ae(o),e[11](null),i&&ae(r),i&&ae(a),w(D,i),i&&ae(h),i&&ae(g),w(j,i),i&&ae(v),O&&O.d(i),i&&ae($),x=!1,s(C)}};return ce("SvelteRegisterBlock",{block:_,id:nt.name,type:"component",source:"",ctx:e}),_}async function ot(e){const t={video:!e||{deviceId:e}};return await navigator.mediaDevices.getUserMedia(t)}function it(){let e=Object.assign(document.createElement("canvas"),{width:400,height:300}),t=e.getContext("2d");t.fillRect(0,0,e.width,e.height);let n=t.getImageData(0,0,e.width,e.height);return requestAnimationFrame((function e(){for(var o=0;o<n.data.length;o++)n.data[o++]=n.data[o++]=n.data[o++]=255*Math.random();t.putImageData(n,0,0),requestAnimationFrame(e)})),e.captureStream(60)}function ct(e,t,n){let o,i,c,{$$slots:r={},$$scope:s}=t;me("UpstreamVideo",r,[]);const a=B();let l,u,d=[],f=[];async function p(){const e=await it();e.name="noise feed",h(e),n(3,f=[...f,e])}async function m(e){const t=await ot(e);t.name=e?w(e):"default webcam",h(t),n(3,f=[...f,t])}function h(e){n(0,u=e),n(1,l.srcObject=e,l),a("stream",e)}function g(e){a("stream",e)}function v(e){e.getTracks().forEach(e=>e.stop()),a("stop",e)}function $(e){v(e),n(3,f=[...f.filter(t=>t!=e)]),u===e&&n(0,u=void 0)}function w(e){const t=e&&d.find(({deviceId:t})=>t===e);return t&&t.label}async function y(){const e=await navigator.mediaDevices.enumerateDevices();n(2,d=e.filter(({kind:e})=>"videoinput"===e))}A(()=>{y(),navigator.mediaDevices.addEventListener("devicechange",e=>{navigator.mediaDevices.enumerateDevices().then(e=>y())})});const b=[];Ye.keys(t).forEach(e=>{~b.indexOf(e)||"$$"===e.slice(0,2)||console.warn(`<UpstreamVideo> was created with unknown prop '${e}'`)});return e.$capture_state=()=>({Details:Xe,onMount:A,createEventDispatcher:B,dispatch:a,upstreamVideo:l,upstreamStream:u,videoDevices:d,videoStreams:f,getWebcamFeed:ot,makeNoise:it,getNoise:p,getWebcam:m,makeMainStream:h,useStream:g,stopStream:v,deleteStream:$,getDeviceLabel:w,getVideoDevices:y,mainTrack:o,upstreamName:i,hasStream:c}),e.$inject_state=e=>{"upstreamVideo"in e&&n(1,l=e.upstreamVideo),"upstreamStream"in e&&n(0,u=e.upstreamStream),"videoDevices"in e&&n(2,d=e.videoDevices),"videoStreams"in e&&n(3,f=e.videoStreams),"mainTrack"in e&&n(4,o=e.mainTrack),"upstreamName"in e&&n(5,i=e.upstreamName),"hasStream"in e&&(c=e.hasStream)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{1&e.$$.dirty&&n(4,o=u&&u.getTracks()[0]),1&e.$$.dirty&&n(5,i=u&&u.constructor.name),1&e.$$.dirty&&(c=Boolean(u))},[u,l,d,f,o,i,p,m,h,v,$,function(e){T[e?"unshift":"push"](()=>{l=e,n(1,l)})},()=>m(),()=>p(),e=>m(e.deviceId),e=>h(e),e=>v(e),e=>$(e)]}var rt=class extends he{constructor(e){super(e),ie(this,e,ct,nt,l,{}),ce("SvelteRegisterComponent",{component:this,tagName:"UpstreamVideo",options:e,id:nt.name})}};function st(e){let t,n,o,i;t=new Xe({props:{summary:"settings",data:e[1].getSettings()},$$inline:!0}),o=new Xe({props:{summary:"constraints",data:e[1].getConstraints()},$$inline:!0});const c={c:function(){te(t.$$.fragment),n=k(),te(o.$$.fragment)},m:function(e,c){ne(t,e,c),se(e,n,c),ne(o,e,c),i=!0},p:function(e,n){const i={};2&n&&(i.data=e[1].getSettings()),t.$set(i);const c={};2&n&&(c.data=e[1].getConstraints()),o.$set(c)},i:function(e){i||(K(t.$$.fragment,e),K(o.$$.fragment,e),i=!0)},o:function(e){Q(t.$$.fragment,e),Q(o.$$.fragment,e),i=!1},d:function(e){oe(t,e),e&&ae(n),oe(o,e)}};return ce("SvelteRegisterBlock",{block:c,id:st.name,type:"if",source:"(23:0) {#if mainTrack}",ctx:e}),c}function at(e){let t,n,o,c,r,s,a,l=e[1]&&st(e);const u={c:function(){t=y("h5"),t.textContent="downstream",n=k(),o=y("video"),c=y("track"),r=k(),l&&l.c(),s=S(),i(t,"src/Downstream.svelte",16,0,244),ue(c,"kind","captions"),i(c,"src/Downstream.svelte",19,4,314),o.autoplay="true",i(o,"src/Downstream.svelte",18,0,265)},l:function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(i,u){se(i,t,u),se(i,n,u),se(i,o,u),re(o,c),e[3](o),se(i,r,u),l&&l.m(i,u),se(i,s,u),a=!0},p:function(e,[t]){e[1]?l?(l.p(e,t),2&t&&K(l,1)):(l=st(e),l.c(),K(l,1),l.m(s.parentNode,s)):l&&(Y(),Q(l,1,1,()=>{l=null}),G())},i:function(e){a||(K(l),a=!0)},o:function(e){Q(l),a=!1},d:function(i){i&&ae(t),i&&ae(n),i&&ae(o),e[3](null),i&&ae(r),l&&l.d(i),i&&ae(s)}};return ce("SvelteRegisterBlock",{block:u,id:at.name,type:"component",source:"",ctx:e}),u}function lt(e,t,n){let o,{$$slots:i={},$$scope:c}=t;me("Downstream",i,[]);let r,{stream:s}=t;const a=["stream"];return Object.keys(t).forEach(e=>{~a.indexOf(e)||"$$"===e.slice(0,2)||console.warn(`<Downstream> was created with unknown prop '${e}'`)}),e.$$set=e=>{"stream"in e&&n(2,s=e.stream)},e.$capture_state=()=>({Details:Xe,stream:s,videoTag:r,mainTrack:o}),e.$inject_state=e=>{"stream"in e&&n(2,s=e.stream),"videoTag"in e&&n(0,r=e.videoTag),"mainTrack"in e&&n(1,o=e.mainTrack)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{4&e.$$.dirty&&n(1,o=s&&s.getTracks()[0]),5&e.$$.dirty&&r&&n(0,r.srcObject=s,r)},[r,o,s,function(e){T[e?"unshift":"push"](()=>{r=e,n(0,r),n(2,s)})}]}var ut=class extends he{constructor(e){super(e),ie(this,e,lt,at,l,{stream:2}),ce("SvelteRegisterComponent",{component:this,tagName:"Downstream",options:e,id:at.name});const{ctx:t}=this.$$,n=e.props||{};void 0!==t[2]||"stream"in n||console.warn("<Downstream> was created without expected prop 'stream'")}get stream(){throw new Error("<Downstream>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set stream(e){throw new Error("<Downstream>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}};function dt(e){let t,n,c,r,a,l,u;const d={c:function(){t=y("form"),n=y("input"),c=k(),r=y("code"),a=b(e[0]),ue(n,"size","90"),ue(n,"placeholder","ws url"),i(n,"src/RemoteBar.svelte",18,4,498),i(t,"src/RemoteBar.svelte",17,0,451),i(r,"src/RemoteBar.svelte",21,0,576)},l:function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(o,i){var s;se(o,t,i),re(t,n),R(n,e[1]),se(o,c,i),se(o,r,i),re(r,a),l||(u=[le(n,"input",e[2]),le(t,"submit",(s=ft,function(e){return e.preventDefault(),s.call(this,e)}),!1,!0,!1)],l=!0)},p:function(e,[t]){2&t&&n.value!==e[1]&&R(n,e[1]),1&t&&fe(a,e[0])},i:o,o:o,d:function(e){e&&ae(t),e&&ae(c),e&&ae(r),l=!1,s(u)}};return ce("SvelteRegisterBlock",{block:d,id:dt.name,type:"component",source:"",ctx:e}),d}function ft(){}function pt(e,t,n){let o,{$$slots:i={},$$scope:c}=t;me("RemoteBar",i,[]);let{signalingClient:r}=t;const s=["signalingClient"];return Object.keys(t).forEach(e=>{~s.indexOf(e)||"$$"===e.slice(0,2)||console.warn(`<RemoteBar> was created with unknown prop '${e}'`)}),e.$$set=e=>{"signalingClient"in e&&n(0,r=e.signalingClient)},e.$capture_state=()=>({offerStore:Ue,answerStore:Te,candidatesStore:Pe,config:Se,signalingClient:r,onSubmit:ft,signalingServer:o}),e.$inject_state=e=>{"signalingClient"in e&&n(0,r=e.signalingClient),"signalingServer"in e&&n(1,o=e.signalingServer)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{3&e.$$.dirty&&(r.connect({url:o}),window.client=r)},n(1,o=`wss://${window.location.host}/signaling/test`),[r,o,function(){o=this.value,n(1,o)}]}var mt=class extends he{constructor(e){super(e),ie(this,e,pt,dt,l,{signalingClient:0}),ce("SvelteRegisterComponent",{component:this,tagName:"RemoteBar",options:e,id:dt.name});const{ctx:t}=this.$$,n=e.props||{};void 0!==t[0]||"signalingClient"in n||console.warn("<RemoteBar> was created without expected prop 'signalingClient'")}get signalingClient(){throw new Error("<RemoteBar>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set signalingClient(e){throw new Error("<RemoteBar>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}};function ht(e,t,n){const o=e.slice();return o[3]=t[n],o}function gt(e){let t,n,o=e[0];pe(o);let i=[];for(let t=0;t<o.length;t+=1)i[t]=vt(ht(e,o,t));const c=e=>Q(i[e],1,1,()=>{i[e]=null}),r={c:function(){for(let e=0;e<i.length;e+=1)i[e].c();t=S()},m:function(e,o){for(let t=0;t<i.length;t+=1)i[t].m(e,o);se(e,t,o),n=!0},p:function(e,n){if(1&n){let r;for(o=e[0],pe(o),r=0;r<o.length;r+=1){const c=ht(e,o,r);i[r]?(i[r].p(c,n),K(i[r],1)):(i[r]=vt(c),i[r].c(),K(i[r],1),i[r].m(t.parentNode,t))}for(Y(),r=o.length;r<i.length;r+=1)c(r);G()}},i:function(e){if(!n){for(let e=0;e<o.length;e+=1)K(i[e]);n=!0}},o:function(e){i=i.filter(Boolean);for(let e=0;e<i.length;e+=1)Q(i[e]);n=!1},d:function(e){w(i,e),e&&ae(t)}};return ce("SvelteRegisterBlock",{block:r,id:gt.name,type:"if",source:"(62:0) {#if transceiverDetails}",ctx:e}),r}function vt(e){let t,n,o,c,r,s,a,l,u,d,f,p,m="transceiver "+e[3].mid,h=e[3].mid+"";f=new Xe({props:{summary:"details",data:e[3],open:!1},$$inline:!0});const g={c:function(){t=b(m),n=k(),o=y("table"),c=y("tr"),r=y("th"),r.textContent="mid",s=k(),a=y("td"),l=y("code"),u=b(h),d=k(),te(f.$$.fragment),i(r,"src/Transceivers.svelte",66,16,2462),i(l,"src/Transceivers.svelte",67,20,2495),i(a,"src/Transceivers.svelte",67,16,2491),i(c,"src/Transceivers.svelte",65,12,2441),i(o,"src/Transceivers.svelte",64,8,2421)},m:function(e,i){se(e,t,i),se(e,n,i),se(e,o,i),re(o,c),re(c,r),re(c,s),re(c,a),re(a,l),re(l,u),se(e,d,i),ne(f,e,i),p=!0},p:function(e,n){(!p||1&n)&&m!==(m="transceiver "+e[3].mid)&&fe(t,m),(!p||1&n)&&h!==(h=e[3].mid+"")&&fe(u,h);const o={};1&n&&(o.data=e[3]),f.$set(o)},i:function(e){p||(K(f.$$.fragment,e),p=!0)},o:function(e){Q(f.$$.fragment,e),p=!1},d:function(e){e&&ae(t),e&&ae(n),e&&ae(o),e&&ae(d),oe(f,e)}};return ce("SvelteRegisterBlock",{block:g,id:vt.name,type:"each",source:"(63:4) {#each transceiverDetails as transceiverDetail}",ctx:e}),g}function $t(e){let t,n,o,c,r=e[0]&&gt(e);const s={c:function(){t=y("h5"),t.textContent="transceivers",n=k(),r&&r.c(),o=S(),i(t,"src/Transceivers.svelte",60,0,2265)},l:function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(e,i){se(e,t,i),se(e,n,i),r&&r.m(e,i),se(e,o,i),c=!0},p:function(e,[t]){e[0]?r?(r.p(e,t),1&t&&K(r,1)):(r=gt(e),r.c(),K(r,1),r.m(o.parentNode,o)):r&&(Y(),Q(r,1,1,()=>{r=null}),G())},i:function(e){c||(K(r),c=!0)},o:function(e){Q(r),c=!1},d:function(e){e&&ae(t),e&&ae(n),r&&r.d(e),e&&ae(o)}};return ce("SvelteRegisterBlock",{block:s,id:$t.name,type:"component",source:"",ctx:e}),s}function wt(e,t,n){let o,{$$slots:i={},$$scope:c}=t;me("Transceivers",i,[]);let r,{peerconnection:s}=t;A(()=>{const e=setInterval(()=>{o&&n(0,r=o.map(({mid:e,direction:t,currentDirection:n,stopped:o,sender:i,receiver:c})=>{let r={},s={};{let{dtmf:e,track:t,transport:n}=i;r={dtmf:e,track:t,transport:n,parameters:i.getParameters&&i.getParameters()}}{let{dtmf:e,track:t,transport:n}=c;s={dtmf:e,track:t,transport:n,parameters:c.getParameters&&c.getParameters(),csrcs:c.getContributingSources(),ssrcs:c.getSynchronizationSources()}}return{mid:e,direction:t,currentDirection:n,stopped:o,sender:r,receiver:s}}))},1e3);return()=>clearInterval(e)});const a=["peerconnection"];return Object.keys(t).forEach(e=>{~a.indexOf(e)||"$$"===e.slice(0,2)||console.warn(`<Transceivers> was created with unknown prop '${e}'`)}),e.$$set=e=>{"peerconnection"in e&&n(1,s=e.peerconnection)},e.$capture_state=()=>({onMount:A,Details:Xe,peerconnection:s,transceiverDetails:r,transceivers:o}),e.$inject_state=e=>{"peerconnection"in e&&n(1,s=e.peerconnection),"transceiverDetails"in e&&n(0,r=e.transceiverDetails),"transceivers"in e&&(o=e.transceivers)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{2&e.$$.dirty&&(o=s&&s.getTransceivers())},[r,s]}var yt=class extends he{constructor(e){super(e),ie(this,e,wt,$t,l,{peerconnection:1}),ce("SvelteRegisterComponent",{component:this,tagName:"Transceivers",options:e,id:$t.name});const{ctx:t}=this.$$,n=e.props||{};void 0!==t[1]||"peerconnection"in n||console.warn("<Transceivers> was created without expected prop 'peerconnection'")}get peerconnection(){throw new Error("<Transceivers>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set peerconnection(e){throw new Error("<Transceivers>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}};const{console:bt}=Z,kt="src/Participant.svelte";function St(e){let t,n;t=new mt({props:{signalingClient:e[23]},$$inline:!0});const i={c:function(){te(t.$$.fragment)},m:function(e,o){ne(t,e,o),n=!0},p:o,i:function(e){n||(K(t.$$.fragment,e),n=!0)},o:function(e){Q(t.$$.fragment,e),n=!1},d:function(e){oe(t,e)}};return ce("SvelteRegisterBlock",{block:i,id:St.name,type:"if",source:"(248:4) {#if $config.isRemote}",ctx:e}),i}function xt(e){let t,n,c;n=new rt({$$inline:!0}),n.$on("stream",e[36]),n.$on("stop",e[37]);const r={c:function(){t=y("article"),te(n.$$.fragment),ue(t,"id","upstream"),ue(t,"class","box"),i(t,kt,252,4,7859)},m:function(e,o){se(e,t,o),ne(n,t,null),c=!0},p:o,i:function(e){c||(K(n.$$.fragment,e),c=!0)},o:function(e){Q(n.$$.fragment,e),c=!1},d:function(e){e&&ae(t),oe(n)}};return ce("SvelteRegisterBlock",{block:r,id:xt.name,type:"if",source:"(252:4) {#if $config.hasUpstream}",ctx:e}),r}function Ct(e){let t,n,o;n=new ut({props:{},$$inline:!0}),e[38](n);const c={c:function(){t=y("article"),te(n.$$.fragment),ue(t,"id","downstream"),ue(t,"class","box"),i(t,kt,261,4,8116)},m:function(e,i){se(e,t,i),ne(n,t,null),o=!0},p:function(e,t){n.$set({})},i:function(e){o||(K(n.$$.fragment,e),o=!0)},o:function(e){Q(n.$$.fragment,e),o=!1},d:function(o){o&&ae(t),e[38](null),oe(n)}};return ce("SvelteRegisterBlock",{block:c,id:Ct.name,type:"if",source:"(261:4) {#if $config.hasDownstream}",ctx:e}),c}function Rt(e){let t;const n={c:function(){t=b("addStream")},m:function(e,n){se(e,t,n)},d:function(e){e&&ae(t)}};return ce("SvelteRegisterBlock",{block:n,id:Rt.name,type:"else",source:"(271:36) {:else}",ctx:e}),n}function Dt(e){let t;const n={c:function(){t=b("replaceTrack")},m:function(e,n){se(e,t,n)},d:function(e){e&&ae(t)}};return ce("SvelteRegisterBlock",{block:n,id:Dt.name,type:"if",source:"(271:12) {#if sender}",ctx:e}),n}function Et(e){let t,n,o,c,r,s,a,l=e[17].join(" ")+"";const u={c:function(){t=y("tr"),n=y("th"),n.textContent="events:",o=k(),c=y("td"),r=y("code"),s=y("small"),a=b(l),i(n,kt,297,20,9227),i(s,kt,298,32,9278),i(r,kt,298,25,9271),i(c,kt,298,20,9266),i(t,kt,296,16,9202)},m:function(e,i){se(e,t,i),re(t,n),re(t,o),re(t,c),re(c,r),re(r,s),re(s,a)},p:function(e,t){131072&t[0]&&l!==(l=e[17].join(" ")+"")&&fe(a,l)},d:function(e){e&&ae(t)}};return ce("SvelteRegisterBlock",{block:u,id:Et.name,type:"if",source:"(296:16) {#if !hideSignaling}",ctx:e}),u}function jt(e){let t,n,o,c,r,s,a,l,u,d=e[13]&&Ot(e),f=e[19]&&!e[5].isManual&&_t(e),p=e[5].isManual&&At(e);const m={c:function(){t=y("label"),n=b("1.\n                "),o=y("button"),o.textContent="create offer",c=k(),d&&d.c(),r=k(),f&&f.c(),s=k(),p&&p.c(),a=S(),i(o,kt,321,16,9863),i(t,kt,319,12,9820)},m:function(i,m){se(i,t,m),re(t,n),re(t,o),se(i,c,m),d&&d.m(i,m),se(i,r,m),f&&f.m(i,m),se(i,s,m),p&&p.m(i,m),se(i,a,m),l||(u=le(o,"click",e[25],!1,!1,!1),l=!0)},p:function(e,t){e[13]?d?d.p(e,t):(d=Ot(e),d.c(),d.m(r.parentNode,r)):d&&(d.d(1),d=null),e[19]&&!e[5].isManual?f?f.p(e,t):(f=_t(e),f.c(),f.m(s.parentNode,s)):f&&(f.d(1),f=null),e[5].isManual?p?p.p(e,t):(p=At(e),p.c(),p.m(a.parentNode,a)):p&&(p.d(1),p=null)},d:function(e){e&&ae(t),e&&ae(c),d&&d.d(e),e&&ae(r),f&&f.d(e),e&&ae(s),p&&p.d(e),e&&ae(a),l=!1,u()}};return ce("SvelteRegisterBlock",{block:m,id:jt.name,type:"if",source:"(319:8) {#if isCaller}",ctx:e}),m}function Ot(e){let t,n,o,c,r,a,l,u,d,f,p,m;const h={c:function(){t=y("div"),n=y("textarea"),o=k(),c=y("br"),r=k(),a=y("label"),l=b("2.\n                        "),u=y("button"),u.textContent="setLocalDescription",d=k(),f=y("button"),f.textContent="send offer",ue(n,"rows","20"),ue(n,"class","svelte-19mjatr"),D(n,"hideSignaling",e[22]),i(n,kt,326,20,10012),i(c,kt,327,20,10100),i(u,kt,330,24,10186),i(f,kt,331,24,10301),i(a,kt,328,20,10127),i(t,kt,325,16,9986)},m:function(i,s){se(i,t,s),re(t,n),R(n,e[13]),re(t,o),re(t,c),re(t,r),re(t,a),re(a,l),re(a,u),re(a,d),re(a,f),p||(m=[le(n,"input",e[42]),le(u,"click",e[43],!1,!1,!1),le(f,"click",e[27],!1,!1,!1)],p=!0)},p:function(e,t){8192&t[0]&&R(n,e[13]),4194304&t[0]&&D(n,"hideSignaling",e[22])},d:function(e){e&&ae(t),p=!1,s(m)}};return ce("SvelteRegisterBlock",{block:h,id:Ot.name,type:"if",source:"(325:12) {#if localOfferSdp}",ctx:e}),h}function _t(e){let t,n,o,c,r,a,l,u,d,f;const p={c:function(){t=y("div"),n=y("textarea"),o=k(),c=y("br"),r=k(),a=y("label"),l=b("5.\n                        "),u=y("button"),u.textContent="setRemoteDescription",ue(n,"rows","20"),ue(n,"class","svelte-19mjatr"),D(n,"hideSignaling",e[22]),i(n,kt,337,20,10516),i(c,kt,338,20,10607),i(u,kt,341,24,10693),i(a,kt,339,20,10634),i(t,kt,336,16,10490)},m:function(i,s){se(i,t,s),re(t,n),R(n,e[19]),re(t,o),re(t,c),re(t,r),re(t,a),re(a,l),re(a,u),d||(f=[le(n,"input",e[44]),le(u,"click",e[45],!1,!1,!1)],d=!0)},p:function(e,t){524288&t[0]&&R(n,e[19]),4194304&t[0]&&D(n,"hideSignaling",e[22])},d:function(e){e&&ae(t),d=!1,s(f)}};return ce("SvelteRegisterBlock",{block:p,id:_t.name,type:"if",source:"(336:12) {#if receivedAnswer && !$config.isManual}",ctx:e}),p}function At(e){let t,n,o,c,r,a,l,u,d,f,p,m;const h={c:function(){t=y("div"),n=y("strong"),n.textContent="MANUAL ANSWER HERE",o=k(),c=y("textarea"),r=k(),a=y("br"),l=k(),u=y("label"),d=b("5.\n                        "),f=y("button"),f.textContent="setRemoteDescription",i(n,kt,347,20,10929),ue(c,"rows","20"),ue(c,"class","svelte-19mjatr"),i(c,kt,348,20,10985),i(a,kt,349,20,11056),i(f,kt,352,24,11142),i(u,kt,350,20,11083),i(t,kt,346,16,10903)},m:function(i,s){se(i,t,s),re(t,n),re(t,o),re(t,c),R(c,e[16]),re(t,r),re(t,a),re(t,l),re(t,u),re(u,d),re(u,f),p||(m=[le(c,"input",e[46]),le(f,"click",e[47],!1,!1,!1)],p=!0)},p:function(e,t){65536&t[0]&&R(c,e[16])},d:function(e){e&&ae(t),p=!1,s(m)}};return ce("SvelteRegisterBlock",{block:h,id:At.name,type:"if",source:"(346:12) {#if $config.isManual}",ctx:e}),h}function Bt(e){let t,n,o,i=e[18]&&!e[5].isManual&&Ut(e),c=e[5].isManual&&Tt(e),r=e[14]&&e[18]&&Pt(e);const s={c:function(){i&&i.c(),t=k(),c&&c.c(),n=k(),r&&r.c(),o=S()},m:function(e,s){i&&i.m(e,s),se(e,t,s),c&&c.m(e,s),se(e,n,s),r&&r.m(e,s),se(e,o,s)},p:function(e,s){e[18]&&!e[5].isManual?i?i.p(e,s):(i=Ut(e),i.c(),i.m(t.parentNode,t)):i&&(i.d(1),i=null),e[5].isManual?c?c.p(e,s):(c=Tt(e),c.c(),c.m(n.parentNode,n)):c&&(c.d(1),c=null),e[14]&&e[18]?r?r.p(e,s):(r=Pt(e),r.c(),r.m(o.parentNode,o)):r&&(r.d(1),r=null)},d:function(e){i&&i.d(e),e&&ae(t),c&&c.d(e),e&&ae(n),r&&r.d(e),e&&ae(o)}};return ce("SvelteRegisterBlock",{block:s,id:Bt.name,type:"if",source:"(359:8) {#if isReceiver}",ctx:e}),s}function Ut(e){let t,n,o,c,r,a,l,u,d,f,p,m;const h={c:function(){t=y("div"),n=y("textarea"),o=k(),c=y("br"),r=k(),a=y("label"),l=b("3.\n                        "),u=y("button"),u.textContent="setRemoteDescription",d=k(),f=y("button"),f.textContent="create answer",ue(n,"rows","20"),ue(n,"class","svelte-19mjatr"),D(n,"hideSignaling",e[22]),i(n,kt,361,20,11436),i(c,kt,362,20,11526),i(u,kt,365,24,11612),i(f,kt,366,24,11723),i(a,kt,363,20,11553),i(t,kt,360,16,11410)},m:function(i,s){se(i,t,s),re(t,n),R(n,e[18]),re(t,o),re(t,c),re(t,r),re(t,a),re(a,l),re(a,u),re(a,d),re(a,f),p||(m=[le(n,"input",e[48]),le(u,"click",e[49],!1,!1,!1),le(f,"click",e[26],!1,!1,!1)],p=!0)},p:function(e,t){262144&t[0]&&R(n,e[18]),4194304&t[0]&&D(n,"hideSignaling",e[22])},d:function(e){e&&ae(t),p=!1,s(m)}};return ce("SvelteRegisterBlock",{block:h,id:Ut.name,type:"if",source:"(360:12) {#if receivedOffer && !$config.isManual}",ctx:e}),h}function Tt(e){let t,n,o,c,r,a,l,u,d,f,p,m,h,g;const v={c:function(){t=y("div"),n=y("strong"),n.textContent="MANUAL OFFER HERE",o=k(),c=y("textarea"),r=k(),a=y("br"),l=k(),u=y("label"),d=b("3.\n                        "),f=y("button"),f.textContent="setRemoteDescription",p=k(),m=y("button"),m.textContent="create answer",i(n,kt,372,20,11925),ue(c,"rows","20"),ue(c,"class","svelte-19mjatr"),i(c,kt,373,20,11980),i(a,kt,374,20,12050),i(f,kt,377,24,12136),i(m,kt,378,24,12247),i(u,kt,375,20,12077),i(t,kt,371,16,11899)},m:function(i,s){se(i,t,s),re(t,n),re(t,o),re(t,c),R(c,e[15]),re(t,r),re(t,a),re(t,l),re(t,u),re(u,d),re(u,f),re(u,p),re(u,m),h||(g=[le(c,"input",e[50]),le(f,"click",e[51],!1,!1,!1),le(m,"click",e[26],!1,!1,!1)],h=!0)},p:function(e,t){32768&t[0]&&R(c,e[15])},d:function(e){e&&ae(t),h=!1,s(g)}};return ce("SvelteRegisterBlock",{block:v,id:Tt.name,type:"if",source:"(371:12) {#if $config.isManual}",ctx:e}),v}function Pt(e){let t,n,o,c,r,a,l,u,d,f,p,m;const h={c:function(){t=y("div"),n=y("textarea"),o=k(),c=y("br"),r=k(),a=y("label"),l=b("4.\n                        "),u=y("button"),u.textContent="setLocalDescription",d=k(),f=y("button"),f.textContent="send answer",ue(n,"rows","20"),ue(n,"class","svelte-19mjatr"),D(n,"hideSignaling",e[22]),i(n,kt,384,20,12464),i(c,kt,385,20,12555),i(u,kt,388,24,12641),i(f,kt,389,24,12758),i(a,kt,386,20,12582),i(t,kt,383,16,12438)},m:function(i,s){se(i,t,s),re(t,n),R(n,e[14]),re(t,o),re(t,c),re(t,r),re(t,a),re(a,l),re(a,u),re(a,d),re(a,f),p||(m=[le(n,"input",e[52]),le(u,"click",e[53],!1,!1,!1),le(f,"click",e[28],!1,!1,!1)],p=!0)},p:function(e,t){16384&t[0]&&R(n,e[14]),4194304&t[0]&&D(n,"hideSignaling",e[22])},d:function(e){e&&ae(t),p=!1,s(m)}};return ce("SvelteRegisterBlock",{block:h,id:Pt.name,type:"if",source:"(383:12) {#if localAnswerSdp && receivedOffer}",ctx:e}),h}function Mt(e){let t,n,o;const c={c:function(){t=y("textarea"),ue(t,"rows","10"),ue(t,"class","svelte-19mjatr"),D(t,"hideSignaling",e[22]),i(t,kt,396,12,12966)},m:function(i,c){se(i,t,c),R(t,e[20]),n||(o=le(t,"input",e[54]),n=!0)},p:function(e,n){1048576&n[0]&&R(t,e[20]),4194304&n[0]&&D(t,"hideSignaling",e[22])},d:function(e){e&&ae(t),n=!1,o()}};return ce("SvelteRegisterBlock",{block:c,id:Mt.name,type:"if",source:"(396:8) {#if readableCandidates.length || $config.isManual}",ctx:e}),c}function Nt(e){let t,n,o,c,r,s,a,l,u=JSON.stringify(e[21],null,4)+"";const d={c:function(){t=y("label"),t.textContent="injected Candidates",n=k(),o=y("textarea"),c=k(),r=y("pre"),s=b(u),ue(t,"for","injectedCandidates"),i(t,kt,400,12,13099),ue(o,"name","injectedCandidates"),ue(o,"rows","20"),ue(o,"class","svelte-19mjatr"),i(o,kt,401,12,13171),i(r,kt,402,12,13264)},m:function(i,u){se(i,t,u),se(i,n,u),se(i,o,u),R(o,e[4]),se(i,c,u),se(i,r,u),re(r,s),a||(l=le(o,"input",e[55]),a=!0)},p:function(e,t){16&t[0]&&R(o,e[4]),2097152&t[0]&&u!==(u=JSON.stringify(e[21],null,4)+"")&&fe(s,u)},d:function(e){e&&ae(t),e&&ae(n),e&&ae(o),e&&ae(c),e&&ae(r),a=!1,l()}};return ce("SvelteRegisterBlock",{block:d,id:Nt.name,type:"if",source:"(400:8) {#if $config.isManual}",ctx:e}),d}function Lt(e){let t,n,o,c,r,a,l,u,d,f,p,m,h,g,v,$,w,S,x,C,R,D,E,j,O,_,A,B,U,T,P,M,N,L,V,I,q,F,J,z,W,H,X,Z,ee,ie,pe,me,he,ge,ve,$e,we,ye,be,ke,Se,xe,Ce,Re,De,Ee,je,Oe=e[5].isRemote&&St(e),_e=e[5].hasUpstream&&xt(e),Ae=e[5].hasDownstream&&Ct(e);function Be(e,t){return e[8]?Dt:Rt}let Ue=Be(e),Te=Ue(e);x=new yt({props:{name:e[2],peerconnection:e[7]},$$inline:!0});let Pe=!e[22]&&Et(e),Me=e[0]&&jt(e),Ne=e[1]&&Bt(e),Le=(e[20].length||e[5].isManual)&&Mt(e),Ve=e[5].isManual&&Nt(e);const Ie={c:function(){t=y("section"),n=y("h3"),o=b(e[2]),c=k(),r=y("small"),a=b("talking to "),l=b(e[3]),u=k(),Oe&&Oe.c(),d=k(),_e&&_e.c(),f=k(),Ae&&Ae.c(),p=k(),m=y("article"),h=y("h5"),h.textContent="streams",g=k(),v=y("button"),Te.c(),w=k(),S=y("article"),te(x.$$.fragment),C=k(),R=y("article"),D=y("h5"),D.textContent="signaling",E=k(),j=y("div"),O=y("table"),_=y("tr"),A=y("th"),A.textContent="signaling:",B=k(),U=y("td"),T=y("code"),P=b(e[10]),M=k(),N=y("tr"),L=y("th"),L.textContent="connection:",V=k(),I=y("td"),q=y("code"),F=b(e[11]),J=k(),z=y("tr"),W=y("th"),W.textContent="ice:",H=k(),X=y("td"),Z=y("code"),ee=b(e[12]),ie=k(),Pe&&Pe.c(),pe=k(),me=y("div"),he=y("span"),ge=y("label"),ve=y("input"),$e=b("\n                    caller"),we=k(),ye=y("label"),be=y("input"),ke=b("\n                    receiver"),Se=k(),Me&&Me.c(),xe=k(),Ne&&Ne.c(),Ce=k(),Le&&Le.c(),Re=k(),Ve&&Ve.c(),i(r,kt,245,4,7699),i(n,kt,244,4,7684),i(h,kt,267,8,8269),v.disabled=$=!Boolean(e[9]),i(v,kt,268,8,8294),ue(m,"class","box"),i(m,kt,266,4,8239),ue(S,"class","box"),i(S,kt,274,4,8488),i(D,kt,279,8,8628),i(A,kt,284,20,8752),i(T,kt,285,25,8799),i(U,kt,285,20,8794),i(_,kt,283,16,8727),i(L,kt,288,20,8898),i(q,kt,289,25,8946),i(I,kt,289,20,8941),i(N,kt,287,16,8873),i(W,kt,292,20,9046),i(Z,kt,293,25,9087),i(X,kt,293,20,9082),i(z,kt,291,16,9021),ue(O,"class","vertical"),i(O,kt,282,12,8686),ue(j,"class","box"),i(j,kt,281,8,8656),ue(ve,"type","checkbox"),i(ve,kt,308,20,9497),i(ge,kt,307,16,9469),ue(be,"type","checkbox"),i(be,kt,312,20,9643),i(ye,kt,311,16,9615),i(he,kt,306,12,9446),ue(me,"class","box"),i(me,kt,305,8,9416),ue(R,"class","box"),i(R,kt,278,4,8598),i(t,kt,243,0,7670)},l:function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(i,s){se(i,t,s),re(t,n),re(n,o),re(n,c),re(n,r),re(r,a),re(r,l),re(t,u),Oe&&Oe.m(t,null),re(t,d),_e&&_e.m(t,null),re(t,f),Ae&&Ae.m(t,null),re(t,p),re(t,m),re(m,h),re(m,g),re(m,v),Te.m(v,null),re(t,w),re(t,S),ne(x,S,null),re(t,C),re(t,R),re(R,D),re(R,E),re(R,j),re(j,O),re(O,_),re(_,A),re(_,B),re(_,U),re(U,T),re(T,P),re(O,M),re(O,N),re(N,L),re(N,V),re(N,I),re(I,q),re(q,F),re(O,J),re(O,z),re(z,W),re(z,H),re(z,X),re(X,Z),re(Z,ee),re(O,ie),Pe&&Pe.m(O,null),re(R,pe),re(R,me),re(me,he),re(he,ge),re(ge,ve),ve.checked=e[0],re(ge,$e),re(he,we),re(he,ye),re(ye,be),be.checked=e[1],re(ye,ke),re(R,Se),Me&&Me.m(R,null),re(R,xe),Ne&&Ne.m(R,null),re(R,Ce),Le&&Le.m(R,null),re(R,Re),Ve&&Ve.m(R,null),De=!0,Ee||(je=[le(v,"click",e[39],!1,!1,!1),le(ve,"change",e[40]),le(be,"change",e[41])],Ee=!0)},p:function(e,n){(!De||4&n[0])&&fe(o,e[2]),(!De||8&n[0])&&fe(l,e[3]),e[5].isRemote?Oe?(Oe.p(e,n),32&n[0]&&K(Oe,1)):(Oe=St(e),Oe.c(),K(Oe,1),Oe.m(t,d)):Oe&&(Y(),Q(Oe,1,1,()=>{Oe=null}),G()),e[5].hasUpstream?_e?(_e.p(e,n),32&n[0]&&K(_e,1)):(_e=xt(e),_e.c(),K(_e,1),_e.m(t,f)):_e&&(Y(),Q(_e,1,1,()=>{_e=null}),G()),e[5].hasDownstream?Ae?(Ae.p(e,n),32&n[0]&&K(Ae,1)):(Ae=Ct(e),Ae.c(),K(Ae,1),Ae.m(t,p)):Ae&&(Y(),Q(Ae,1,1,()=>{Ae=null}),G()),Ue!==(Ue=Be(e))&&(Te.d(1),Te=Ue(e),Te&&(Te.c(),Te.m(v,null))),(!De||512&n[0]&&$!==($=!Boolean(e[9])))&&de(v,"disabled",$);const i={};4&n[0]&&(i.name=e[2]),128&n[0]&&(i.peerconnection=e[7]),x.$set(i),(!De||1024&n[0])&&fe(P,e[10]),(!De||2048&n[0])&&fe(F,e[11]),(!De||4096&n[0])&&fe(ee,e[12]),e[22]?Pe&&(Pe.d(1),Pe=null):Pe?Pe.p(e,n):(Pe=Et(e),Pe.c(),Pe.m(O,null)),1&n[0]&&(ve.checked=e[0]),2&n[0]&&(be.checked=e[1]),e[0]?Me?Me.p(e,n):(Me=jt(e),Me.c(),Me.m(R,xe)):Me&&(Me.d(1),Me=null),e[1]?Ne?Ne.p(e,n):(Ne=Bt(e),Ne.c(),Ne.m(R,Ce)):Ne&&(Ne.d(1),Ne=null),e[20].length||e[5].isManual?Le?Le.p(e,n):(Le=Mt(e),Le.c(),Le.m(R,Re)):Le&&(Le.d(1),Le=null),e[5].isManual?Ve?Ve.p(e,n):(Ve=Nt(e),Ve.c(),Ve.m(R,null)):Ve&&(Ve.d(1),Ve=null)},i:function(e){De||(K(Oe),K(_e),K(Ae),K(x.$$.fragment,e),De=!0)},o:function(e){Q(Oe),Q(_e),Q(Ae),Q(x.$$.fragment,e),De=!1},d:function(e){e&&ae(t),Oe&&Oe.d(),_e&&_e.d(),Ae&&Ae.d(),Te.d(),oe(x),Pe&&Pe.d(),Me&&Me.d(),Ne&&Ne.d(),Le&&Le.d(),Ve&&Ve.d(),Ee=!1,s(je)}};return ce("SvelteRegisterBlock",{block:Ie,id:Lt.name,type:"component",source:"",ctx:e}),Ie}function Vt(e,t,n){let o,i,c,r,s,a,l,u,f,m,h;d(xe,"eventLogByName"),p(e,xe,e=>n(33,l=e)),d(Ue,"offerStore"),p(e,Ue,e=>n(34,u=e)),d(Te,"answerStore"),p(e,Te,e=>n(35,f=e)),d(Se,"config"),p(e,Se,e=>n(5,m=e)),d(Pe,"candidatesStore"),p(e,Pe,e=>n(56,h=e));let{$$slots:g={},$$scope:v}=t;me("Participant",g,[]);let{isCaller:$=!1}=t,{isReceiver:w=!1}=t,{name:y="unnamed participant"}=t,{recipient:b=null}=t;const k=new Ie({from:y,to:b}),S=B(),x=Ce(y);let C,R,D,E,j="",O="",_="",U="",P="",M="",N="",L=[],V="",q="plan-b"===new URL(document.location).searchParams.get("semantic")?{sdpSemantics:"plan-b"}:{sdpSemantics:"unified-plan"};function F(){q.sdpSemantics;const e=new RTCPeerConnection(q);return e.ontrack=e=>{const{track:t,streams:n,transceiver:o}=e,i=n[0];C.$set({stream:i}),i.onaddtrack=()=>{x("ta","track added"),console.warn(y+"track added to stream",{track:t,stream:i})},"video"==t.kind&&(console.info(y+".ontrack",{track:t,streams:n,kind:t.kind,transceiver:o}),t.onmute=e=>{x("tm","track muted"),console.info(y+" track onmute",{event:e})},t.onunmute=e=>{x("tu","track unmuted"),console.info(y+" track onunmute",{event:e})},t.onended=e=>{x("te","track ended"),console.debug(y+" track onended",{event:e})})},e.onicecandidate=({candidate:e})=>{x("lc","create candidate"),n(32,L=[...L,e]),G(e)},e.onsignalingstatechange=t=>n(10,j=e.signalingState),e.onconnectionstatechange=t=>n(11,O=e.connectionState),e.oniceconnectionstatechange=t=>n(12,_=e.iceConnectionState),console.info("setup RTCPeerConnection for "+y,q,e),e}function J(e){x("at","add track"),console.info("add track"),n(8,D=R.addTrack(e.getTracks()[0],e))}function z(e){D?(x("rt","replace track"),console.info("replace track",{sender:D}),D.replaceTrack(e.getTracks()[0])):(x("at","add track"),console.info("add track"),n(8,D=R.addTrack(e.getTracks()[0],e)))}async function W(){x("o","create offer");const e=await R.createOffer({offerToReceiveVideo:!0,offerToReceiveAudio:!1});n(13,U=e.sdp)}async function H(){x("a","create answer");const e=await R.createAnswer();n(14,P=e.sdp)}function X(){const e=Je(U);Me({from:y,offer:e}),m.isRemote&&k.sendOffer(e)}function Y(){const e=Je(P);Ne({from:y,answer:e}),m.isRemote&&k.sendAnswer(e)}function G(e){y&&e&&(Le({from:y,candidate:e}),m.isRemote&&k.sendCandidate(e))}async function K(e){x("l","setLocalDescription"),console.debug("localDescription ->",e);const t=e;Ve(y),R.setLocalDescription(t),Z(),Ve(b)}function Q(e){x("r","setRemoteDescription");const t=Je(e);R.setRemoteDescription(t),Z(),Ve(b)}function Z(){m.isManual?(s||[]).forEach(e=>{e&&(x("ac","addIceCandidate"),R.addIceCandidate(e))}):(console.debug(h[b]),(h[b]||[]).forEach(e=>{e&&(x("ac","addIceCandidate"),R.addIceCandidate(e))}))}function ee(e){x("r","setRemoteDescription");const t=ze(e);R.setRemoteDescription(t),Ve(y)}A(()=>{n(7,R=F()),Pe.subscribe(({[b]:e})=>{e&&x("rc")}),m.hasCaller&&W()});const te=["isCaller","isReceiver","name","recipient"];Object.keys(t).forEach(e=>{~te.indexOf(e)||"$$"===e.slice(0,2)||bt.warn(`<Participant> was created with unknown prop '${e}'`)});return e.$$set=e=>{"isCaller"in e&&n(0,$=e.isCaller),"isReceiver"in e&&n(1,w=e.isReceiver),"name"in e&&n(2,y=e.name),"recipient"in e&&n(3,b=e.recipient)},e.$capture_state=()=>({onMount:A,createEventDispatcher:B,tick:I,config:Se,addEventFor:Ce,eventLogByName:xe,offerStore:Ue,answerStore:Te,candidatesStore:Pe,sendOfferFrom:Me,sendAnswerFrom:Ne,sendCandidateFrom:Le,clearCandidatesFrom:Ve,SignalingClient:Ie,justTheSdp:qe,safeParse:Fe,packOffer:Je,packAnswer:ze,UpstreamVideo:rt,Downstream:ut,RemoteBar:mt,Transceivers:yt,isCaller:$,isReceiver:w,name:y,recipient:b,signalingClient:k,dispatch:S,addEvent:x,downstreamComponent:C,peerConnection:R,sender:D,videoUpstream:E,signalingState:j,connectionState:O,iceConnectionState:_,localOfferSdp:U,localAnswerSdp:P,injectedOffer:M,injectedAnswer:N,rawCandidates:L,injectedCandidates:V,pcconfig:q,initPeerConnection:F,addTrack:J,addStream:z,createOffer:W,createAnswer:H,sendOffer:X,sendAnswer:Y,sendCandidate:G,applyLocal:K,applyRemoteOffer:Q,applyCandidates:Z,applyRemoteAnswer:ee,events:o,$eventLogByName:l,receivedOffer:i,$offerStore:u,receivedAnswer:c,$answerStore:f,readableCandidates:r,parsedInjectedCandidates:s,$config:m,$candidatesStore:h,hideSignaling:a}),e.$inject_state=e=>{"isCaller"in e&&n(0,$=e.isCaller),"isReceiver"in e&&n(1,w=e.isReceiver),"name"in e&&n(2,y=e.name),"recipient"in e&&n(3,b=e.recipient),"downstreamComponent"in e&&n(6,C=e.downstreamComponent),"peerConnection"in e&&n(7,R=e.peerConnection),"sender"in e&&n(8,D=e.sender),"videoUpstream"in e&&n(9,E=e.videoUpstream),"signalingState"in e&&n(10,j=e.signalingState),"connectionState"in e&&n(11,O=e.connectionState),"iceConnectionState"in e&&n(12,_=e.iceConnectionState),"localOfferSdp"in e&&n(13,U=e.localOfferSdp),"localAnswerSdp"in e&&n(14,P=e.localAnswerSdp),"injectedOffer"in e&&n(15,M=e.injectedOffer),"injectedAnswer"in e&&n(16,N=e.injectedAnswer),"rawCandidates"in e&&n(32,L=e.rawCandidates),"injectedCandidates"in e&&n(4,V=e.injectedCandidates),"pcconfig"in e&&(q=e.pcconfig),"events"in e&&n(17,o=e.events),"receivedOffer"in e&&n(18,i=e.receivedOffer),"receivedAnswer"in e&&n(19,c=e.receivedAnswer),"readableCandidates"in e&&n(20,r=e.readableCandidates),"parsedInjectedCandidates"in e&&n(21,s=e.parsedInjectedCandidates),"hideSignaling"in e&&n(22,a=e.hideSignaling)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),e.$$.update=()=>{4&e.$$.dirty[0]|4&e.$$.dirty[1]&&n(17,o=l[y]||[]),8&e.$$.dirty[0]|8&e.$$.dirty[1]&&n(18,i=qe(u[b])),8&e.$$.dirty[0]|16&e.$$.dirty[1]&&n(19,c=qe(f[b])),2&e.$$.dirty[1]&&n(20,r=JSON.stringify(L)),16&e.$$.dirty[0]&&n(21,s=Fe(V)),32&e.$$.dirty[0]&&n(22,a=m.hideSignaling)},[$,w,y,b,V,m,C,R,D,E,j,O,_,U,P,M,N,o,i,c,r,s,a,k,z,W,H,X,Y,K,Q,ee,L,l,u,f,({detail:e})=>n(9,E=e),()=>n(9,E=void 0),function(e){T[e?"unshift":"push"](()=>{C=e,n(6,C)})},()=>z(E),function(){$=this.checked,n(0,$)},function(){w=this.checked,n(1,w)},function(){U=this.value,n(13,U)},()=>K(Je(U)),function(){c=this.value,n(19,c),n(35,f),n(3,b)},()=>ee(c),function(){N=this.value,n(16,N)},()=>ee(N),function(){i=this.value,n(18,i),n(34,u),n(3,b)},()=>Q(i),function(){M=this.value,n(15,M)},()=>Q(M),function(){P=this.value,n(14,P)},()=>K(ze(P)),function(){r=this.value,n(20,r),n(32,L)},function(){V=this.value,n(4,V)}]}var It=class extends he{constructor(e){super(e),ie(this,e,Vt,Lt,l,{isCaller:0,isReceiver:1,name:2,recipient:3},[-1,-1,-1]),ce("SvelteRegisterComponent",{component:this,tagName:"Participant",options:e,id:Lt.name})}get isCaller(){throw new Error("<Participant>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set isCaller(e){throw new Error("<Participant>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get isReceiver(){throw new Error("<Participant>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set isReceiver(e){throw new Error("<Participant>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get name(){throw new Error("<Participant>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set name(e){throw new Error("<Participant>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}get recipient(){throw new Error("<Participant>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set recipient(e){throw new Error("<Participant>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}};function qt(e,t,n){const o=e.slice();return o[2]=t[n].name,o[3]=t[n].event,o}function Ft(e){let t,n,o,c,r,s,a,l,u,d=e[2]+"",f=e[3]+"";const p={c:function(){t=y("tr"),n=y("th"),o=b(d),c=b(":"),r=k(),s=y("td"),a=y("code"),l=b(f),u=k(),i(n,"src/EventLog.svelte",26,16,513),i(a,"src/EventLog.svelte",27,20,550),i(s,"src/EventLog.svelte",27,16,546),i(t,"src/EventLog.svelte",25,12,492)},m:function(e,i){se(e,t,i),re(t,n),re(n,o),re(n,c),re(t,r),re(t,s),re(s,a),re(a,l),re(t,u)},p:function(e,t){1&t&&d!==(d=e[2]+"")&&fe(o,d),1&t&&f!==(f=e[3]+"")&&fe(l,f)},d:function(e){e&&ae(t)}};return ce("SvelteRegisterBlock",{block:p,id:Ft.name,type:"each",source:"(25:12) {#each $eventLog.filter(e => e.event) as { name, event }}",ctx:e}),p}function Jt(e){let t,n,c,r,s,a,l,u,d,f=e[0].filter(zt);pe(f);let p=[];for(let t=0;t<f.length;t+=1)p[t]=Ft(qt(e,f,t));const m={c:function(){t=y("section"),n=y("h3"),c=b("Event Log "),r=y("small"),s=b("please open\n        "),a=y("code"),a.textContent="about://webrtc-internals",l=k(),u=y("div"),d=y("table");for(let e=0;e<p.length;e+=1)p[e].c();i(a,"src/EventLog.svelte",16,8,295),i(r,"src/EventLog.svelte",14,18,259),i(n,"src/EventLog.svelte",14,4,245),ue(d,"class","vertical svelte-111zlyk"),i(d,"src/EventLog.svelte",23,8,385),ue(u,"class","box"),i(u,"src/EventLog.svelte",19,4,356),i(t,"src/EventLog.svelte",12,0,230)},l:function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(e,o){se(e,t,o),re(t,n),re(n,c),re(n,r),re(r,s),re(r,a),re(t,l),re(t,u),re(u,d);for(let e=0;e<p.length;e+=1)p[e].m(d,null)},p:function(e,[t]){if(1&t){let n;for(f=e[0].filter(zt),pe(f),n=0;n<f.length;n+=1){const o=qt(e,f,n);p[n]?p[n].p(o,t):(p[n]=Ft(o),p[n].c(),p[n].m(d,null))}for(;n<p.length;n+=1)p[n].d(1);p.length=f.length}},i:o,o:o,d:function(e){e&&ae(t),w(p,e)}};return ce("SvelteRegisterBlock",{block:m,id:Jt.name,type:"component",source:"",ctx:e}),m}const zt=e=>e.event;function Wt(e,t,n){let o;d(we,"eventLog"),p(e,we,e=>n(0,o=e));let{$$slots:i={},$$scope:c}=t;me("EventLog",i,[]);const r=Array(100).fill({name:"hendrik",event:"fun stuff"}),s=[];return Object.keys(t).forEach(e=>{~s.indexOf(e)||"$$"===e.slice(0,2)||console.warn(`<EventLog> was created with unknown prop '${e}'`)}),e.$capture_state=()=>({eventLog:we,dummyData:r,$eventLog:o}),[o]}var Ht=class extends he{constructor(e){super(e),ie(this,e,Wt,Jt,l,{}),ce("SvelteRegisterComponent",{component:this,tagName:"EventLog",options:e,id:Jt.name})}};function Xt(e){let t,n;t=new It({props:{name:"alice",isCaller:"true",recipient:"bob"},$$inline:!0});const o={c:function(){te(t.$$.fragment)},m:function(e,o){ne(t,e,o),n=!0},i:function(e){n||(K(t.$$.fragment,e),n=!0)},o:function(e){Q(t.$$.fragment,e),n=!1},d:function(e){oe(t,e)}};return ce("SvelteRegisterBlock",{block:o,id:Xt.name,type:"if",source:"(24:8) {#if $config.hasCaller}",ctx:e}),o}function Yt(e){let t,n;t=new It({props:{name:"bob",isReceiver:"true",recipient:"alice"},$$inline:!0});const o={c:function(){te(t.$$.fragment)},m:function(e,o){ne(t,e,o),n=!0},i:function(e){n||(K(t.$$.fragment,e),n=!0)},o:function(e){Q(t.$$.fragment,e),n=!1},d:function(e){oe(t,e)}};return ce("SvelteRegisterBlock",{block:o,id:Yt.name,type:"if",source:"(28:8) {#if $config.hasReceiver}",ctx:e}),o}function Gt(e){let t,n;t=new Ht({$$inline:!0});const o={c:function(){te(t.$$.fragment)},m:function(e,o){ne(t,e,o),n=!0},i:function(e){n||(K(t.$$.fragment,e),n=!0)},o:function(e){Q(t.$$.fragment,e),n=!1},d:function(e){oe(t,e)}};return ce("SvelteRegisterBlock",{block:o,id:Gt.name,type:"if",source:"(32:8) {#if !$config.hideSignaling}",ctx:e}),o}function Kt(e){let t,n,o,c,r,s,a,l,u,d,f=e[0].hasCaller&&Xt(e),p=e[0].hasReceiver&&Yt(e),m=!e[0].hideSignaling&&Gt(e);u=new Be({$$inline:!0});const h={c:function(){t=y("div"),n=y("h1"),n.textContent="WebRTC Plumber",o=k(),c=y("main"),f&&f.c(),r=k(),p&&p.c(),s=k(),m&&m.c(),a=k(),l=y("aside"),te(u.$$.fragment),i(n,"src/Demo.svelte",20,4,353),ue(c,"class","svelte-1mx8d2d"),i(c,"src/Demo.svelte",21,4,381),i(l,"src/Demo.svelte",36,4,726),ue(t,"class","svelte-1mx8d2d"),i(t,"src/Demo.svelte",19,0,343)},l:function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(e,i){se(e,t,i),re(t,n),re(t,o),re(t,c),f&&f.m(c,null),re(c,r),p&&p.m(c,null),re(c,s),m&&m.m(c,null),re(t,a),re(t,l),ne(u,l,null),d=!0},p:function(e,[t]){e[0].hasCaller?f?1&t&&K(f,1):(f=Xt(e),f.c(),K(f,1),f.m(c,r)):f&&(Y(),Q(f,1,1,()=>{f=null}),G()),e[0].hasReceiver?p?1&t&&K(p,1):(p=Yt(e),p.c(),K(p,1),p.m(c,s)):p&&(Y(),Q(p,1,1,()=>{p=null}),G()),e[0].hideSignaling?m&&(Y(),Q(m,1,1,()=>{m=null}),G()):m?1&t&&K(m,1):(m=Gt(e),m.c(),K(m,1),m.m(c,null))},i:function(e){d||(K(f),K(p),K(m),K(u.$$.fragment,e),d=!0)},o:function(e){Q(f),Q(p),Q(m),Q(u.$$.fragment,e),d=!1},d:function(e){e&&ae(t),f&&f.d(),p&&p.d(),m&&m.d(),oe(u)}};return ce("SvelteRegisterBlock",{block:h,id:Kt.name,type:"component",source:"",ctx:e}),h}function Qt(e,t,n){let o;d(Se,"config"),p(e,Se,e=>n(0,o=e));let{$$slots:i={},$$scope:c}=t;me("Demo",i,[]);const r=[];return Object.keys(t).forEach(e=>{~r.indexOf(e)||"$$"===e.slice(0,2)||console.warn(`<Demo> was created with unknown prop '${e}'`)}),e.$capture_state=()=>({config:Se,Config:Be,Participant:It,EventLog:Ht,$config:o}),[o]}var Zt=class extends he{constructor(e){super(e),ie(this,e,Qt,Kt,l,{}),ce("SvelteRegisterComponent",{component:this,tagName:"Demo",options:e,id:Kt.name})}};function en(e,t,n){const o=e.slice();return o[26]=t[n],o[28]=n,o}function tn(e){let t,n,o,c,r=(e[26].label||"micorophone "+e[28])+"";function s(){return e[9](e[26])}const a={c:function(){t=y("button"),n=b(r),i(t,"src/UpstreamAudio.svelte",126,8,3362)},m:function(e,i){se(e,t,i),re(t,n),o||(c=le(t,"click",s,!1,!1,!1),o=!0)},p:function(t,o){e=t,4&o&&r!==(r=(e[26].label||"micorophone "+e[28])+"")&&fe(n,r)},d:function(e){e&&ae(t),o=!1,c()}};return ce("SvelteRegisterBlock",{block:a,id:tn.name,type:"each",source:"(126:4) {#each audioDevices as device, index}",ctx:e}),a}function nn(e){let t,n,c,r,a,l,u,d,f,p,m,h,g,v,$,b,S,x,C=e[2];pe(C);let R=[];for(let t=0;t<C.length;t+=1)R[t]=tn(en(e,C,t));const D={c:function(){t=y("h5"),t.textContent="audio devices",n=k(),c=y("audio"),r=y("track"),a=k(),l=y("nav");for(let e=0;e<R.length;e+=1)R[e].c();u=k(),d=y("hr"),f=k(),p=y("button"),p.textContent="pluginStream",m=k(),h=y("button"),h.textContent="start drawing",g=k(),v=y("button"),v.textContent="stop drawing",$=k(),b=y("canvas"),i(t,"src/UpstreamAudio.svelte",118,0,3161),ue(r,"kind","captions"),i(r,"src/UpstreamAudio.svelte",121,4,3270),ue(c,"id","upstream"),c.autoplay="false",c.controls="true",i(c,"src/UpstreamAudio.svelte",120,0,3185),i(d,"src/UpstreamAudio.svelte",130,4,3507),i(p,"src/UpstreamAudio.svelte",131,4,3518),i(h,"src/UpstreamAudio.svelte",132,4,3600),i(v,"src/UpstreamAudio.svelte",133,4,3669),i(l,"src/UpstreamAudio.svelte",124,0,3306),i(b,"src/UpstreamAudio.svelte",136,0,3740)},l:function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(o,i){se(o,t,i),se(o,n,i),se(o,c,i),re(c,r),e[8](c),se(o,a,i),se(o,l,i);for(let e=0;e<R.length;e+=1)R[e].m(l,null);re(l,u),re(l,d),re(l,f),re(l,p),re(l,m),re(l,h),re(l,g),re(l,v),se(o,$,i),se(o,b,i),e[13](b),S||(x=[le(p,"click",e[10],!1,!1,!1),le(h,"click",e[11],!1,!1,!1),le(v,"click",e[12],!1,!1,!1)],S=!0)},p:function(e,[t]){if(20&t){let n;for(C=e[2],pe(C),n=0;n<C.length;n+=1){const o=en(e,C,n);R[n]?R[n].p(o,t):(R[n]=tn(o),R[n].c(),R[n].m(l,u))}for(;n<R.length;n+=1)R[n].d(1);R.length=C.length}},i:o,o:o,d:function(o){o&&ae(t),o&&ae(n),o&&ae(c),e[8](null),o&&ae(a),o&&ae(l),w(R,o),o&&ae($),o&&ae(b),e[13](null),S=!1,s(x)}};return ce("SvelteRegisterBlock",{block:D,id:nn.name,type:"component",source:"",ctx:e}),D}async function on(e){const t={audio:!e||{deviceId:e}};return await navigator.mediaDevices.getUserMedia(t)}function cn(e,t,n){let{$$slots:o={},$$scope:i}=t;me("UpstreamAudio",o,[]);const c=B();let r,s,a,l,u,d,f,p,m=[],h=!1;async function g(){const e=await navigator.mediaDevices.enumerateDevices();n(2,m=e.filter(({kind:e})=>"audioinput"===e))}function v(e){const t=e&&m.find(({deviceId:t})=>t===e);return t&&t.label}async function $(e){const t=await on(e);t.name=v(e),w(t)}function w(e){n(1,s=e),n(0,r.srcObject=e,r),c("stream",e)}function y(){u||(u=new AudioContext,d=u.createAnalyser(),d.fftSize=2048,f=d.frequencyBinCount,p=new Uint8Array(f))}function b(e){u.createMediaStreamSource(e).connect(d)}function k(){h||(h=!0,requestAnimationFrame(x))}function S(){h=!1,requestAnimationFrame(x)}function x(){h&&requestAnimationFrame(x),d.getByteTimeDomainData(p),d.getByteTimeDomainData(p),l.fillStyle="rgb(200, 200, 200)",l.fillRect(0,0,a.width,a.height),l.lineWidth=2,l.strokeStyle="rgb(0, 0, 0)",l.beginPath();let e=1*a.width/f,t=0;for(let n=0;n<f;n++){const o=p[n]/128*a.height/2;0===n?l.moveTo(t,o):l.lineTo(t,o),t+=e}l.lineTo(a.width,a.height/2),l.stroke()}A(()=>{g(),navigator.mediaDevices.addEventListener("devicechange",e=>{navigator.mediaDevices.enumerateDevices().then(e=>g())}),l=a.getContext("2d"),y()});const C=[];Object.keys(t).forEach(e=>{~C.indexOf(e)||"$$"===e.slice(0,2)||console.warn(`<UpstreamAudio> was created with unknown prop '${e}'`)});return e.$capture_state=()=>({onMount:A,createEventDispatcher:B,dispatch:c,upstreamAudio:r,upstreamStream:s,audioDevices:m,isDrawing:h,canvas:a,canvasCtx:l,audioCtx:u,analyser:d,bufferLength:f,dataArray:p,getAudioDevices:g,getMicStream:on,getDeviceLabel:v,getAudioStream:$,makeMainStream:w,initAnalyzer:y,pluginStream:b,startDrawing:k,stopDrawing:S,draw:x}),e.$inject_state=e=>{"upstreamAudio"in e&&n(0,r=e.upstreamAudio),"upstreamStream"in e&&n(1,s=e.upstreamStream),"audioDevices"in e&&n(2,m=e.audioDevices),"isDrawing"in e&&(h=e.isDrawing),"canvas"in e&&n(3,a=e.canvas),"canvasCtx"in e&&(l=e.canvasCtx),"audioCtx"in e&&(u=e.audioCtx),"analyser"in e&&(d=e.analyser),"bufferLength"in e&&(f=e.bufferLength),"dataArray"in e&&(p=e.dataArray)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[r,s,m,a,$,b,k,S,function(e){T[e?"unshift":"push"](()=>{r=e,n(0,r)})},e=>$(e.deviceId),()=>b(s),()=>k(),()=>S(),function(e){T[e?"unshift":"push"](()=>{a=e,n(3,a)})}]}var rn=class extends he{constructor(e){super(e),ie(this,e,cn,nn,l,{}),ce("SvelteRegisterComponent",{component:this,tagName:"UpstreamAudio",options:e,id:nn.name})}};function sn(e){let t,n;t=new Zt({$$inline:!0});const o={c:function(){te(t.$$.fragment)},m:function(e,o){ne(t,e,o),n=!0},i:function(e){n||(K(t.$$.fragment,e),n=!0)},o:function(e){Q(t.$$.fragment,e),n=!1},d:function(e){oe(t,e)}};return ce("SvelteRegisterBlock",{block:o,id:sn.name,type:"else",source:"(14:0) {:else}",ctx:e}),o}function an(e){let t,n,o;n=new rn({$$inline:!0});const c={c:function(){t=y("article"),te(n.$$.fragment),ue(t,"class","box"),i(t,"src/App.svelte",10,0,229)},m:function(e,i){se(e,t,i),ne(n,t,null),o=!0},i:function(e){o||(K(n.$$.fragment,e),o=!0)},o:function(e){Q(n.$$.fragment,e),o=!1},d:function(e){e&&ae(t),oe(n)}};return ce("SvelteRegisterBlock",{block:c,id:an.name,type:"if",source:"(10:0) {#if $config.audioVisOnly}",ctx:e}),c}function ln(e){let t,n,o,i;const c=[an,sn],r=[];function s(e,t){return e[0].audioVisOnly?0:1}t=s(e),n=r[t]=c[t](e);const a={c:function(){n.c(),o=S()},l:function(e){throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option")},m:function(e,n){r[t].m(e,n),se(e,o,n),i=!0},p:function(e,[i]){let a=t;t=s(e),t!==a&&(Y(),Q(r[a],1,1,()=>{r[a]=null}),G(),n=r[t],n||(n=r[t]=c[t](e),n.c()),K(n,1),n.m(o.parentNode,o))},i:function(e){i||(K(n),i=!0)},o:function(e){Q(n),i=!1},d:function(e){r[t].d(e),e&&ae(o)}};return ce("SvelteRegisterBlock",{block:a,id:ln.name,type:"component",source:"",ctx:e}),a}function un(e,t,n){let o;d(Se,"config"),p(e,Se,e=>n(0,o=e));let{$$slots:i={},$$scope:c}=t;me("App",i,[]);const r=[];return Object.keys(t).forEach(e=>{~r.indexOf(e)||"$$"===e.slice(0,2)||console.warn(`<App> was created with unknown prop '${e}'`)}),e.$capture_state=()=>({Demo:Zt,UpstreamAudio:rn,config:Se,$config:o}),[o]}const dn=new class extends he{constructor(e){super(e),ie(this,e,un,ln,l,{}),ce("SvelteRegisterComponent",{component:this,tagName:"App",options:e,id:ln.name})}}({target:document.body,props:{}});window.app=dn;t.default=dn}]);